<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditorium Booking â€” Sri Lanka Postal Service</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- =====================================================
     MODAL: STAFF LOGIN
     ===================================================== -->
<div id="adminLoginModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card login-card">
    <div class="modal-hero admin-hero">
      <div class="modal-hero-icon">ğŸ”</div>
      <h2>Staff Login</h2>
      <p>For maintenance staff and administrators</p>
    </div>
    <div class="modal-body">
      <div class="field-group">
        <label>Username</label>
        <input type="text" id="adminUser" placeholder="Enter username" autocomplete="off"
               onkeydown="if(event.key==='Enter') attemptLogin()">
      </div>
      <div class="field-group">
        <label>Password</label>
        <input type="password" id="adminPass" placeholder="Enter password"
               onkeydown="if(event.key==='Enter') attemptLogin()">
      </div>
      <div id="loginErr" class="login-err" style="display:none;">âŒ Invalid credentials. Please try again.</div>
      <div class="login-hint">
        ğŸ”§ <strong>Maintenance:</strong> maintenance / maint2024<br>
        ğŸ›¡ï¸ <strong>Admin:</strong> mainadmin / postal2024
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="attemptLogin()">Login</button>
        <button class="btn btn-ghost"   onclick="cancelAdminLogin()">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- =====================================================
     MODAL: PDF VIEWER
     ===================================================== -->
<div id="pdfModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card pdf-card">
    <div class="modal-hero pdf-hero">
      <h2>ğŸ“„ Auditorium Booking â€” Full Instructions</h2>
      <button class="close-x" onclick="closePdf()">âœ•</button>
    </div>
    <div class="pdf-scroll" id="pdfBody">
      <div class="pdf-page">
        <div class="pdf-govt">ğŸ›ï¸ SRI LANKA POSTAL SERVICE</div>
        <h1 class="pdf-h1">AUDITORIUM BOOKING SYSTEM</h1>
        <h2 class="pdf-h2">User Instruction Guide â€” Version 3.0</h2>
        <hr class="pdf-rule">
        <h3 class="pdf-h3">SECTION 1 â€” CHECK AVAILABILITY</h3>
        <p>1.1 Click the <strong>Available</strong> tab in the navigation bar.</p>
        <p>1.2 Select a date â€” weekdays and weekends are both permitted.</p>
        <p>1.3 Enter your Check-In and Check-Out times.</p>
        <p>1.4 Click <strong>Check Availability</strong>. Each auditorium will show one of three statuses for your specific slot: <strong>Available</strong>, <strong>Partially Booked</strong> (other hours taken but yours is free), or <strong>Conflict</strong> (your slot overlaps an existing booking).</p>
        <p>1.5 Multiple organisations can book the same auditorium on different hours of the same day.</p>
        <h3 class="pdf-h3">SECTION 2 â€” SUBMIT A BOOKING</h3>
        <p>2.1 Click the <strong>Booking</strong> tab.</p>
        <p>2.2 Complete all required fields (marked *). The form follows the official PMG Application Form.</p>
        <p>2.3 Select optional facilities as required.</p>
        <p>2.4 Service Charge (15%) and Refundable Deposit (Rs. 15,000) are applied automatically.</p>
        <p>2.5 Accept the declaration and click <strong>Submit Application</strong>.</p>
        <p>2.6 After submission, click <strong>Print / Download Official Form</strong> to get the PMG Approval Letter.</p>
        <h3 class="pdf-h3">SECTION 3 â€” APPROVAL PROCESS</h3>
        <p>3.1 Application reviewed and recommended by the <strong>Assistant Superintendent (HQ)</strong>.</p>
        <p>3.2 Final approval by the <strong>Deputy Post Master (Operation)</strong>.</p>
        <p>3.3 Email notification sent on approval or rejection.</p>
        <h3 class="pdf-h3">SECTION 4 â€” FEE STRUCTURE</h3>
        <p>4.1 Auditorium Fee .................... As applicable</p>
        <p>4.2 Multimedia Facility Fee .......... Rs. 9,000 (optional)</p>
        <p>4.3 Canteen Facility Fee .............. Rs. 4,000 (optional)</p>
        <p>4.4 Sound System Fee ................. Rs. 3,500 (optional)</p>
        <p>4.5 Stage Lighting Fee ............... Rs. 2,500 (optional)</p>
        <p>4.6 Service Charges .................. 15% of optional facilities â€” auto-applied</p>
        <p>4.7 Refundable Deposit ............... Rs. 15,000 â€” mandatory, returned after event</p>
        <h3 class="pdf-h3">SECTION 5 â€” IMPORTANT RULES</h3>
        <p>5.1 Bookings must be made at least 3 days in advance.</p>
        <p>5.2 Maximum booking duration: 8 hours per day per organisation.</p>
        <p>5.3 A 1-hour maintenance buffer is automatically applied after checkout.</p>
        <p>5.4 Cancellations require at least 48 hours notice.</p>
        <p>5.5 Weekend bookings require Deputy Post Master (Operation) approval.</p>
        <h3 class="pdf-h3">SECTION 6 â€” CONTACT</h3>
        <p>ğŸ“§ auditorium@slpost.gov.lk</p>
        <p>ğŸ“ +94 11 232 3456</p>
        <p>ğŸ• Monday â€“ Friday, 8:30 AM â€“ 4:30 PM</p>
        <div class="pdf-footer">Sri Lanka Postal Service | Document v3.0 | 2025</div>
      </div>
    </div>
    <div class="modal-actions pdf-actions">
      <button class="btn btn-primary" onclick="downloadPdf()">ğŸ“¥ Download PDF</button>
      <button class="btn btn-ghost"   onclick="closePdf()">Close</button>
    </div>
  </div>
</div>

<!-- =====================================================
     MODAL: BOOKING CONFIRMATION
     ===================================================== -->
<div id="confirmModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card confirm-card">
    <div class="modal-hero confirm-hero">
      <div class="modal-hero-icon">âœ…</div>
      <h2>Application Submitted Successfully</h2>
      <div id="confirmRef" class="ref-pill"></div>
    </div>
    <div class="modal-body" id="confirmBody" style="overflow-y:auto;max-height:52vh;"></div>
    <div class="modal-actions">
      <button class="btn btn-print-official" onclick="printOfficialForm()">ğŸ–¨ï¸ Print / Download Official PMG Form</button>
      <button class="btn btn-ghost" onclick="closeConfirm()">Close</button>
    </div>
  </div>
</div>

<!-- =====================================================
     MODAL: ADMIN BOOKING DETAIL
     ===================================================== -->
<div id="adminDetailModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card confirm-card">
    <div class="modal-hero admin-hero">
      <div class="modal-hero-icon">ğŸ“‹</div>
      <h2>Booking Details</h2>
      <div id="adminDetailRef" class="ref-pill"></div>
    </div>
    <div class="modal-body" id="adminDetailBody" style="overflow-y:auto;max-height:58vh;"></div>
    <div class="modal-actions">
      <button class="btn btn-print-official" onclick="printAdminBooking()">ğŸ–¨ï¸ Print Official Form</button>
      <button class="btn btn-ghost" onclick="closeAdminDetail()">Close</button>
    </div>
  </div>
</div>

<!-- =====================================================
     HEADER
     ===================================================== -->
<div class="header">
  <div class="img-item-01"><button type="button" class="home-btn">Holiday Home</button></div>
  <div class="img-item-02"><button type="button" class="audi-btn">Auditorium Booking</button></div>
  <div id="adminHeaderBadge"></div>
</div>

<!-- NAV BAR -->
<nav class="nav-bar">
  <a href="#" class="nav-item active"    onclick="showTab(event,'user-instruction')">User Instruction</a>
  <a href="#" class="nav-item"           onclick="showTab(event,'available')">Available</a>
  <a href="#" class="nav-item"           onclick="showTab(event,'booking')">Booking</a>
  <a href="#" class="nav-item"           onclick="showTab(event,'auditorium')">Auditorium of your PO</a>
  <a href="#" class="nav-item"           onclick="showTab(event,'rules')">Rules</a>
  <a href="#" class="nav-item nav-admin" onclick="showBookedTab(event)">ğŸ“‹ Booked Dates</a>
</nav>

<!-- =====================================================
     SECTION 1 â€” USER INSTRUCTION
     ===================================================== -->
<div id="user-instruction" class="content-section active">
  <h1 class="section-title">ğŸ“š User Instructions</h1>
  <div class="section-content">
    <div class="instruction-box">
      <h3>ğŸ¯ How to Use This System</h3>
      <p>Welcome to the Sri Lanka Postal Service Auditorium Booking System. Multiple organisations can book the same auditorium on different time slots within the same day.</p>
    </div>
    <div class="instruction-box">
      <h3>ğŸ“… Step 1 â€” Check Availability</h3>
      <ul>
        <li>Click <strong>Available</strong> and select your date and time slot</li>
        <li>The system checks if your <strong>exact hours</strong> conflict with any existing booking</li>
        <li>Status shown per auditorium: <strong>âœ… Available</strong>, <strong>âš ï¸ Partially Booked</strong>, or <strong>âŒ Conflict</strong></li>
        <li>Weekdays and weekends are both permitted</li>
      </ul>
    </div>
    <div class="instruction-box">
      <h3>ğŸ“ Step 2 â€” Submit a Booking</h3>
      <ul>
        <li>Go to <strong>Booking</strong> tab and complete all fields (matches official PMG form)</li>
        <li><strong>Service Charge 15%</strong> and <strong>Refundable Deposit Rs. 15,000</strong> are applied automatically</li>
        <li>After submission, print or download the official <strong>PMG Approval Letter</strong></li>
      </ul>
    </div>
    <div class="instruction-box">
      <h3>âœ… Step 3 â€” Approval</h3>
      <ul>
        <li>Recommended by <strong>Assistant Superintendent (HQ)</strong></li>
        <li>Final approval by <strong>Deputy Post Master (Operation)</strong></li>
        <li>Printed form has signature lines for both approvers</li>
      </ul>
    </div>
    <div class="instruction-box auto-charges-box">
      <h3>ğŸ’° Mandatory Charges</h3>
      <div class="auto-charge-grid">
        <div class="auto-charge-card"><span class="aci">ğŸ“Š</span>
          <div><strong>Service Charges â€” 15% of optional facilities</strong>
          <p>Auto-calculated. Zero if no optional facilities selected.</p></div>
        </div>
        <div class="auto-charge-card"><span class="aci">ğŸ”’</span>
          <div><strong>Refundable Deposit â€” Rs. 15,000</strong>
          <p>Mandatory for all bookings. Returned after event with no damage.</p></div>
        </div>
      </div>
    </div>
    <div class="instruction-box pdf-box">
      <h3>ğŸ“¥ Full Guide â€” PDF</h3>
      <p>View or download the complete booking instructions.</p>
      <div class="pdf-btn-row">
        <button class="btn btn-pdf-view" onclick="openPdf()">ğŸ‘ï¸ View PDF</button>
        <button class="btn btn-pdf-dl"   onclick="downloadPdf()">ğŸ“¥ Download PDF</button>
      </div>
    </div>
  </div>
</div>

<!-- =====================================================
     SECTION 2 â€” AVAILABLE
     ===================================================== -->
<div id="available" class="content-section">
  <h1 class="section-title">âœ… Check Auditorium Availability</h1>
  <div class="section-content">
    <div class="container">
      <form id="dateTimeForm">
        <div class="date-time-container">
          <div class="input-row">
            <label for="selectDate">Select Date :</label>
            <input type="date" id="selectDate" name="date" required>
          </div>
          <div class="input-row">
            <label for="checkInTime">Check In Time :</label>
            <input type="time" id="checkInTime" name="checkIn" value="10:00" required>
          </div>
          <div class="input-row">
            <label for="checkOutTime">Check Out Time :</label>
            <input type="time" id="checkOutTime" name="checkOut" value="13:00" required>
          </div>
        </div>
        <div class="button-group">
          <button type="submit" class="btn btn-primary">Check Availability</button>
          <button type="reset"  class="btn btn-secondary">Reset</button>
        </div>
      </form>
      <div id="result" class="result" style="display:none;">
        <h3>âœ“ Searching for your time slot</h3>
        <p><strong>Date:</strong> <span id="resultDate"></span></p>
        <p><strong>Check In:</strong> <span id="resultCheckIn"></span></p>
        <p><strong>Check Out:</strong> <span id="resultCheckOut"></span></p>
        <p><strong>Maintenance Until:</strong> <span id="resultMaintenance"></span></p>
      </div>
    </div>

    <div class="results-area" id="resultsSection" style="display:none;">
      <div class="results-content">
        <h2 class="results-title">Availability Results</h2>
        <p class="search-info" id="searchInfo"></p>
        <div class="avail-legend">
          <span><span class="avl-dot avl-ok"></span> Available for your slot</span>
          <span><span class="avl-dot avl-partial"></span> Partially booked (other hours)</span>
          <span><span class="avl-dot avl-conflict"></span> Conflict â€” your hours overlap</span>
        </div>
        <div class="table-wrapper">
          <table class="auditorium-table">
            <thead>
              <tr>
                <th>Auditorium</th>
                <th>Capacity</th>
                <th>Your Slot Status</th>
                <th>All Booked Slots on This Date</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
        <div class="back-button-wrapper">
          <button type="button" class="btn-back" onclick="backToSearch()">â† Back to Search</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- =====================================================
     SECTION 3 â€” BOOKING FORM
     ===================================================== -->
<div id="booking" class="content-section">
  <h1 class="section-title">ğŸ“ Auditorium Booking Application</h1>
  <div class="section-content">
    <div class="pmg-form-notice">
      ğŸ“‹ This form mirrors the official <strong>Application for the Reservation of the Auditorium of the Postal Headquarters</strong>. After submission, print the official PMG Approval Letter with signature sections.
    </div>
    <form class="booking-form" id="bookingForm">

      <div class="form-group">
        <label>1. Date of Reservation *</label>
        <input type="date" name="reservation_date" id="bookingDate" required>
      </div>

      <div class="form-row-2">
        <div class="form-group">
          <label>2. Time Range â€” Check In *</label>
          <input type="time" name="check_in_time" id="bCheckIn" required>
        </div>
        <div class="form-group">
          <label>2. Time Range â€” Check Out *</label>
          <input type="time" name="check_out_time" id="bCheckOut" required>
        </div>
      </div>

      <div class="form-group">
        <label>Select Auditorium *</label>
        <select name="auditorium_id" id="auditoriumSelect" required>
          <option value="">-- Select Auditorium --</option>
          <option value="1">Headquarters (Capacity: 500)</option>
          <option value="2">Kandy (Capacity: 300)</option>
          <option value="3">Jaffna (Capacity: 250)</option>
          <option value="4">Badulla (Capacity: 200)</option>
          <option value="5">Batticaloa (Capacity: 200)</option>
          <option value="6">Mathara (Capacity: 180)</option>
          <option value="7">Rathnapura (Capacity: 150)</option>
        </select>
      </div>

      <div class="form-group">
        <label>3. Name of the Institute / Organisation *</label>
        <input type="text" name="institute_name" id="bInstitute" required>
      </div>

      <div class="form-group">
        <label>4. Address of the Institute *</label>
        <input type="text" name="institute_address" id="bAddress" required>
      </div>

      <div class="form-group">
        <label>5. Applicant's Name *</label>
        <input type="text" name="requested_by" id="bName" required>
      </div>

      <div class="form-row-2">
        <div class="form-group">
          <label>6. National Identity Card No. *</label>
          <input type="text" name="nic" id="bNIC" placeholder="e.g. 199012345678" required>
        </div>
        <div class="form-group">
          <label>7. Telephone No. *</label>
          <input type="tel" name="contact_phone" id="bPhone" required>
        </div>
      </div>

      <div class="form-row-2">
        <div class="form-group">
          <label>Email Address *</label>
          <input type="email" name="contact_email" id="bEmail" required>
        </div>
        <div class="form-group">
          <label>Designation *</label>
          <input type="text" name="designation" id="bDesig" required>
        </div>
      </div>

      <div class="form-row-2">
        <div class="form-group">
          <label>Department *</label>
          <input type="text" name="department" id="bDept" required>
        </div>
        <div class="form-group">
          <label>9. Participating Group / Expected Attendees *</label>
          <input type="number" name="expected_attendees" id="bAttendees" min="1" required>
        </div>
      </div>

      <div class="form-group">
        <label>8. Nature of the Programme *</label>
        <textarea name="nature_of_programme" id="bPurpose" required></textarea>
      </div>

      <div class="form-group">
        <label>11. Chief Guest Name</label>
        <input type="text" name="chief_guest" id="bChiefGuest" placeholder="Optional">
      </div>

      <div class="form-group">
        <label>12. Other Special Guests Names</label>
        <div class="guests-group">
          <input type="text" name="guest1" id="bGuest1" placeholder="1. Guest name (optional)">
          <input type="text" name="guest2" id="bGuest2" placeholder="2. Guest name (optional)">
          <input type="text" name="guest3" id="bGuest3" placeholder="3. Guest name (optional)">
        </div>
      </div>

      <!-- ITEM 10: OTHER FACILITIES -->
      <div class="form-group">
        <label>10. Other Facilities Required</label>
        <div class="form-section">
          <div class="facilities-group">
            <div class="facility-item">
              <input type="checkbox" id="multimedia"  name="facilities" value="9000" data-facility="Multimedia">
              <label for="multimedia">Multimedia â€” Rs. 9,000</label>
            </div>
            <div class="facility-item">
              <input type="checkbox" id="canteen"     name="facilities" value="4000" data-facility="Canteen">
              <label for="canteen">Canteen â€” Rs. 4,000</label>
            </div>
            <div class="facility-item">
              <input type="checkbox" id="soundSystem" name="facilities" value="3500" data-facility="Sound System">
              <label for="soundSystem">Sound System â€” Rs. 3,500</label>
            </div>
            <div class="facility-item">
              <input type="checkbox" id="lighting"    name="facilities" value="2500" data-facility="Stage Lighting">
              <label for="lighting">Stage Lighting â€” Rs. 2,500</label>
            </div>
          </div>

          <div class="auto-conditions">
            <h4>ğŸ“‹ Automatically Applied Conditions</h4>
            <div class="condition-row">
              <span>Service Charges (15% of optional facilities)</span>
              <span class="cond-badge">AUTO</span>
            </div>
            <div class="condition-row">
              <span>Refundable Deposit Amount</span>
              <span class="cond-badge">Rs. 15,000</span>
            </div>
            <p class="cond-note">These are mandatory conditions applied to every booking.</p>
          </div>

          <div class="fee-summary">
            <h3>Fee Summary</h3>
            <div class="fee-row hidden" id="multimediaRow">
              <span>Multimedia Facility Fee</span><span><strong id="multimediaAmount"></strong></span>
            </div>
            <div class="fee-row hidden" id="canteenRow">
              <span>Canteen Facility Fee</span><span><strong id="canteenAmount"></strong></span>
            </div>
            <div class="fee-row hidden" id="soundRow">
              <span>Sound System Fee</span><span><strong id="soundAmount"></strong></span>
            </div>
            <div class="fee-row hidden" id="lightingRow">
              <span>Stage Lighting Fee</span><span><strong id="lightingAmount"></strong></span>
            </div>
            <div class="fee-row fee-divider">
              <span>Facilities Subtotal</span><span><strong id="subtotalAmount">Rs. 0.00</strong></span>
            </div>
            <div class="fee-row fee-auto">
              <span>Service Charges (15%) <span class="auto-tag">AUTO</span></span>
              <span><strong id="serviceAmount">Rs. 0.00</strong></span>
            </div>
            <div class="fee-row fee-auto">
              <span>Refundable Deposit Amount <span class="auto-tag">AUTO</span></span>
              <span><strong id="depositAmount">Rs. 15,000.00</strong></span>
            </div>
            <div class="fee-row total">
              <span><strong>Total Fee</strong></span>
              <span class="amount" id="totalAmount">Rs. 15,000.00</span>
            </div>
          </div>

          <div class="note">
            <strong>Note:</strong> The Refundable Deposit and Service Charges are mandatory conditions applied to all bookings. The deposit is returned after the event subject to no facility damage.
          </div>
        </div>
      </div>

      <div class="facility-item terms-row">
        <input type="checkbox" id="termsCheckbox" required>
        <label for="termsCheckbox">It is declared that I have agreed with the conditions mentioned overleaf after reading them.</label>
      </div>

      <input type="hidden" name="total_fee" id="totalFeeInput" value="15000">
      <button type="submit" class="submit-btn">Submit Application</button>
    </form>
  </div>
</div>

<!-- =====================================================
     SECTION 4 â€” PHOTOS
     ===================================================== -->
<div id="auditorium" class="content-section">
  <h1 class="section-title">ğŸ›ï¸ Photos at Your Post Office Auditorium</h1>
  <div class="section-content">
    <p style="text-align:center;color:#666;padding:40px;">Gallery coming soonâ€¦</p>
  </div>
</div>

<!-- =====================================================
     SECTION 5 â€” RULES
     ===================================================== -->
<div id="rules" class="content-section">
  <h1 class="section-title">ğŸ“œ Booking Rules &amp; Guidelines</h1>
  <div class="section-content">
    <div class="rules-container">
      <h2 style="color:#92400e;margin-bottom:15px;">Important Rules to Follow</h2>
      <div class="rule-item"><h4>1. Advance Booking</h4><p>All bookings must be made at least 3 days in advance.</p></div>
      <div class="rule-item"><h4>2. Shared Day Booking</h4><p>Multiple organisations may book the same auditorium on different time slots within the same day. Check the availability page to see which hours are free.</p></div>
      <div class="rule-item"><h4>3. Maximum Duration</h4><p>Maximum booking duration is 8 hours per day per organisation.</p></div>
      <div class="rule-item"><h4>4. Cancellation Policy</h4><p>Cancellations must be submitted at least 48 hours before the booking date.</p></div>
      <div class="rule-item"><h4>5. Maintenance Buffer</h4><p>A 1-hour maintenance buffer is automatically applied after checkout.</p></div>
      <div class="rule-item"><h4>6. Mandatory Charges</h4><p>Service Charges (15% of optional facilities) and Refundable Deposit (Rs. 15,000) are mandatory on all bookings.</p></div>
      <div class="rule-item"><h4>7. Weekend Bookings</h4><p>Permitted subject to Deputy Post Master (Operation) approval.</p></div>
      <div class="rule-item"><h4>8. Official Print Form</h4><p>After booking, download and submit the official PMG Approval Letter to the Postal Headquarters for signing.</p></div>
    </div>
  </div>
</div>

<!-- =====================================================
     SECTION 6 â€” BOOKED DATES (Staff CMS)
     ===================================================== -->
<div id="booked-date" class="content-section">
  <h1 class="section-title">ğŸ“‹ Auditorium Booked Dates</h1>

  <!-- Gate -->
  <div id="adminGate">
    <div class="gate-prompt">
      <div class="gate-icon">ğŸ”</div>
      <h2>Staff Login Required</h2>
      <p>This section is for maintenance staff and system administrators only.<br>Maintenance staff see the booking calendar. Administrators see full details.</p>
      <button class="btn btn-primary btn-lg" onclick="openAdminLogin()">Staff Login</button>
    </div>
  </div>

  <!-- MAINTENANCE VIEW: Calendar only, no personal details -->
  <div id="maintenanceCMS" style="display:none;">
    <div class="section-content">
      <div class="admin-topbar maintenance-bar">
        <div class="admin-topbar-left">
          <span class="admin-shield maint-shield">ğŸ”§ Maintenance Staff</span>
          <span id="maintWelcome" class="admin-username"></span>
        </div>
        <button class="btn btn-ghost btn-sm" onclick="staffLogout()">ğŸšª Logout</button>
      </div>
      <div class="maint-info-box">
        â„¹ï¸ <strong>Maintenance View:</strong> You can see when auditoriums are booked (dates and times) but not personal details. For full access, contact the system administrator.
      </div>
      <div class="cms-filter">
        <label><strong>Filter by Auditorium:</strong></label>
        <select id="maintFilter" onchange="renderMaintCal()">
          <option value="all">All Auditoriums</option>
          <option value="Headquarters">Headquarters</option>
          <option value="Kandy">Kandy</option>
          <option value="Jaffna">Jaffna</option>
          <option value="Badulla">Badulla</option>
          <option value="Batticaloa">Batticaloa</option>
          <option value="Mathara">Mathara</option>
          <option value="Rathnapura">Rathnapura</option>
        </select>
      </div>
      <div class="calendar-container">
        <div class="calendar-header">
          <div class="month-year" id="maintMonthYear"></div>
          <div class="nav-buttons">
            <button class="nav-btn" id="maintPrevBtn">â† Prev</button>
            <button class="nav-btn" id="maintTodayBtn">Today</button>
            <button class="nav-btn" id="maintNextBtn">Next â†’</button>
          </div>
        </div>
        <div class="calendar-body">
          <div class="cal-legend">
            <span><span class="ld booked-dot"></span> Booked</span>
            <span><span class="ld avail-dot"></span> Available</span>
            <span><span class="ld today-dot"></span> Today</span>
            <span><span class="ld wknd-dot"></span> Weekend</span>
          </div>
          <div class="weekdays">
            <div class="weekday">Sun</div><div class="weekday">Mon</div><div class="weekday">Tue</div>
            <div class="weekday">Wed</div><div class="weekday">Thu</div><div class="weekday">Fri</div>
            <div class="weekday">Sat</div>
          </div>
          <div class="days" id="maintDaysContainer"></div>
        </div>
      </div>
      <div class="day-detail-panel" id="maintDayPanel" style="display:none;">
        <div class="day-panel-header maint-panel-hdr">
          <h3 id="maintDayTitle"></h3>
          <button class="close-panel" onclick="document.getElementById('maintDayPanel').style.display='none'">âœ• Close</button>
        </div>
        <div id="maintDayContent"></div>
      </div>
    </div>
  </div>

  <!-- ADMIN VIEW: Full CMS -->
  <div id="adminCMS" style="display:none;">
    <div class="section-content">
      <div class="admin-topbar">
        <div class="admin-topbar-left">
          <span class="admin-shield">ğŸ›¡ï¸ System Administrator</span>
          <span id="adminWelcome" class="admin-username"></span>
        </div>
        <button class="btn btn-ghost btn-sm" onclick="staffLogout()">ğŸšª Logout</button>
      </div>
      <div class="cms-filter">
        <label><strong>Filter by Auditorium:</strong></label>
        <select id="cmsFilter" onchange="renderAdminCal(); renderBookingsTable()">
          <option value="all">All Auditoriums</option>
          <option value="Headquarters">Headquarters</option>
          <option value="Kandy">Kandy</option>
          <option value="Jaffna">Jaffna</option>
          <option value="Badulla">Badulla</option>
          <option value="Batticaloa">Batticaloa</option>
          <option value="Mathara">Mathara</option>
          <option value="Rathnapura">Rathnapura</option>
        </select>
      </div>
      <div class="calendar-container">
        <div class="calendar-header">
          <div class="month-year" id="monthYear"></div>
          <div class="nav-buttons">
            <button class="nav-btn" id="prevBtn">â† Prev</button>
            <button class="nav-btn" id="todayBtn">Today</button>
            <button class="nav-btn" id="nextBtn">Next â†’</button>
          </div>
        </div>
        <div class="calendar-body">
          <div class="cal-legend">
            <span><span class="ld booked-dot"></span> Booked</span>
            <span><span class="ld avail-dot"></span> Available</span>
            <span><span class="ld today-dot"></span> Today</span>
            <span><span class="ld wknd-dot"></span> Weekend</span>
          </div>
          <div class="weekdays">
            <div class="weekday">Sun</div><div class="weekday">Mon</div><div class="weekday">Tue</div>
            <div class="weekday">Wed</div><div class="weekday">Thu</div><div class="weekday">Fri</div>
            <div class="weekday">Sat</div>
          </div>
          <div class="days" id="daysContainer"></div>
        </div>
      </div>
      <div class="day-detail-panel" id="dayPanel" style="display:none;">
        <div class="day-panel-header">
          <h3 id="dayPanelTitle"></h3>
          <button class="close-panel" onclick="closeDayPanel()">âœ• Close</button>
        </div>
        <div id="dayPanelContent"></div>
      </div>
      <div class="cms-table-section">
        <h3>ğŸ“Š All Bookings â€” CMS Overview</h3>
        <div class="table-wrapper">
          <table class="auditorium-table">
            <thead>
              <tr>
                <th>Reference</th><th>Auditorium</th><th>Date</th>
                <th>Check In</th><th>Check Out</th><th>Applicant</th>
                <th>Institute</th><th>Status</th><th>View</th>
              </tr>
            </thead>
            <tbody id="bookingsTableBody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
