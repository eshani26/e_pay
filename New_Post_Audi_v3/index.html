<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auditorium Booking â€” Sri Lanka Postal Service</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: STAFF LOGIN
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="adminLoginModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card login-card">
    <div class="modal-hero admin-hero">
      <div class="modal-hero-icon">ğŸ”</div>
      <h2>Staff Login</h2>
      <p>Maintenance Staff &amp; Admin Portal</p>
    </div>
    <div class="modal-body">
      <div class="login-roles-hint">
        <div class="role-row"><span class="role-badge maint-badge">ğŸ”§ Maintenance</span><span>Calendar view only</span></div>
        <div class="role-row"><span class="role-badge admin-badge">ğŸ›¡ï¸ Admin</span><span>Full CMS + all booking details</span></div>
      </div>
      <div class="field-group">
        <label>Username</label>
        <input type="text" id="adminUser" placeholder="Enter username" autocomplete="off"
               onkeydown="if(event.key==='Enter') attemptLogin()">
      </div>
      <div class="field-group">
        <label>Password</label>
        <input type="password" id="adminPass" placeholder="Enter password"
               onkeydown="if(event.key==='Enter') attemptLogin()">
      </div>
      <div id="loginErr" class="login-err" style="display:none;">âŒ Invalid credentials. Please try again.</div>
      <div class="login-hint">
        ğŸ’¡ Demo:<br>
        <strong>mainadmin / postal2024</strong> â€” Full Admin<br>
        <strong>maintenance / maint2024</strong> â€” Maintenance Staff
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="attemptLogin()">Login</button>
        <button class="btn btn-ghost"   onclick="cancelAdminLogin()">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: PDF VIEWER
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="pdfModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card pdf-card">
    <div class="modal-hero pdf-hero">
      <h2>ğŸ“„ Auditorium Booking â€” Full Instructions</h2>
      <button class="close-x" onclick="closePdf()">âœ•</button>
    </div>
    <div class="pdf-scroll" id="pdfBody">
      <div class="pdf-page">
        <div class="pdf-govt">ğŸ›ï¸ SRI LANKA POSTAL SERVICE</div>
        <h1 class="pdf-h1">AUDITORIUM BOOKING SYSTEM</h1>
        <h2 class="pdf-h2">User Instruction Guide â€” Version 2.0</h2>
        <hr class="pdf-rule">
        <h3 class="pdf-h3">SECTION 1 â€” CHECK AVAILABILITY</h3>
        <p>1.1 Click the <strong>Available</strong> tab in the navigation bar.</p>
        <p>1.2 Select a date â€” weekdays and weekends are both permitted.</p>
        <p>1.3 Enter your required Check-In and Check-Out times.</p>
        <p>1.4 Click <strong>Check Availability</strong>. The table shows all auditoriums, any existing booked time slots, and whether your specific requested slot has a conflict. Multiple organisations may book the same auditorium on the same day â€” provided their hours do not overlap.</p>
        <h3 class="pdf-h3">SECTION 2 â€” SUBMIT A BOOKING</h3>
        <p>2.1 Click the <strong>Booking</strong> tab or click "Book Now" from the results page.</p>
        <p>2.2 Complete all required fields including Institute Name, Address, NIC No., Chief Guest and Special Guest names.</p>
        <p>2.3 Select optional facilities (Multimedia, Canteen). Service Charge (15%) and Refundable Deposit (Rs. 15,000) are applied automatically.</p>
        <p>2.4 Accept the Terms and Conditions, then click <strong>Submit Application</strong>.</p>
        <p>2.5 After submission, click <strong>Download Application Form</strong> to save the official printable form.</p>
        <h3 class="pdf-h3">SECTION 3 â€” APPROVAL PROCESS</h3>
        <p>3.1 Reviewed first by the <strong>Assistant Superintendent of Posts (HQ)</strong>.</p>
        <p>3.2 Final approval granted by the <strong>Deputy Post Master (Operation)</strong>.</p>
        <p>3.3 E-mail notification sent on approval or rejection.</p>
        <h3 class="pdf-h3">SECTION 4 â€” FEE STRUCTURE</h3>
        <p>4.1 Multimedia System ............... Rs. 9,000 (optional)</p>
        <p>4.2 Canteen Services ................. Rs. 4,000 (optional)</p>
        <p>4.3 Service Charge ................... 15% of optional facilities â€” auto-applied</p>
        <p>4.4 Refundable Deposit ............... Rs. 15,000 â€” mandatory, returned after event with no damage</p>
        <h3 class="pdf-h3">SECTION 5 â€” IMPORTANT RULES</h3>
        <p>5.1 Bookings must be made at least 3 days in advance.</p>
        <p>5.2 Maximum booking duration: 8 hours per day.</p>
        <p>5.3 A 1-hour maintenance buffer is added after checkout.</p>
        <p>5.4 Cancellations require at least 48 hours notice.</p>
        <p>5.5 Weekend bookings permitted subject to Deputy Post Master approval.</p>
        <p>5.6 Multiple organisations may share an auditorium on the same day â€” time slots must not overlap.</p>
        <h3 class="pdf-h3">SECTION 6 â€” CONTACT</h3>
        <p>ğŸ“§ auditorium@slpost.gov.lk &nbsp;|&nbsp; ğŸ“ +94 11 232 3456 &nbsp;|&nbsp; ğŸ• Monâ€“Fri 8:30 AM â€“ 4:30 PM</p>
        <div class="pdf-footer">Sri Lanka Postal Service &nbsp;|&nbsp; Document v2.0 &nbsp;|&nbsp; 2025</div>
      </div>
    </div>
    <div class="modal-actions pdf-actions">
      <button class="btn btn-primary" onclick="downloadPdfGuide()">ğŸ“¥ Download PDF</button>
      <button class="btn btn-ghost"   onclick="closePdf()">Close</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: BOOKING CONFIRMATION
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="confirmModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card confirm-card">
    <div class="modal-hero confirm-hero">
      <div class="modal-hero-icon">âœ…</div>
      <h2>Application Submitted Successfully</h2>
      <div id="confirmRef" class="ref-pill"></div>
    </div>
    <div class="modal-body" id="confirmBody" style="overflow-y:auto;max-height:55vh;"></div>
    <div class="modal-actions">
      <button class="btn btn-primary" onclick="printOfficialForm()">ğŸ“¥ Download Application Form</button>
      <button class="btn btn-ghost"   onclick="closeConfirm()">Close</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL: ADMIN BOOKING DETAIL
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="adminDetailModal" class="modal-backdrop" style="display:none;">
  <div class="modal-card confirm-card">
    <div class="modal-hero admin-hero">
      <div class="modal-hero-icon">ğŸ“‹</div>
      <h2>Full Booking Detail</h2>
      <div id="adminDetailRef" class="ref-pill"></div>
    </div>
    <div class="modal-body" id="adminDetailBody" style="overflow-y:auto;max-height:60vh;"></div>
    <div class="modal-actions">
      <button class="btn btn-primary" onclick="printAdminForm()">ğŸ–¨ï¸ Print Official Form</button>
      <button class="btn btn-ghost"   onclick="closeAdminDetail()">Close</button>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HEADER
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="header">
  <div class="img-item-01"><button type="button" class="home-btn">Holiday Home</button></div>
  <div class="img-item-02"><button type="button" class="audi-btn">Auditorium Booking</button></div>
  <div id="adminHeaderBadge" style="margin-left:auto;"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NAV BAR
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav class="nav-bar">
  <a href="#" class="nav-item active" onclick="showTab(event,'user-instruction')">User Instruction</a>
  <a href="#" class="nav-item"        onclick="showTab(event,'available')">Available</a>
  <a href="#" class="nav-item"        onclick="showTab(event,'booking')">Booking</a>
  <a href="#" class="nav-item"        onclick="showTab(event,'auditorium')">Auditorium of your PO</a>
  <a href="#" class="nav-item"        onclick="showTab(event,'rules')">Rules</a>
  <a href="#" class="nav-item nav-admin" onclick="showBookedTab(event)">ğŸ“‹ Booked Dates</a>
</nav>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SECTION 1 â€” USER INSTRUCTION
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="user-instruction" class="content-section active">
  <h1 class="section-title">ğŸ“š User Instructions</h1>
  <div class="section-content">
    <div class="instruction-box">
      <h3>ğŸ¯ How to Use This System</h3>
      <p>Welcome to the Sri Lanka Postal Service Auditorium Booking System. Follow the steps below to check availability and submit your booking application.</p>
    </div>
    <div class="instruction-box">
      <h3>ğŸ“… Step 1 â€” Check Availability</h3>
      <ul>
        <li>Click the <strong>Available</strong> tab and pick a date (weekdays and weekends permitted)</li>
        <li>Enter your Check-In and Check-Out times, then click <strong>Check Availability</strong></li>
        <li>The table shows three status types for your requested slot: <em>Free</em>, <em>Partial</em> (other hours booked, your slot still available), or <em>Conflict</em></li>
        <li>Multiple organisations can book the same auditorium on the same day â€” their time slots must not overlap</li>
      </ul>
    </div>
    <div class="instruction-box">
      <h3>ğŸ“ Step 2 â€” Submit a Booking</h3>
      <ul>
        <li>Click <strong>Booking</strong> tab or use the "Book Now â†’" button from results</li>
        <li>Fill all fields including Institute Name, Address, NIC No., Chief Guest and Special Guest names</li>
        <li>Select optional facilities (Multimedia, Canteen) if required</li>
        <li><strong>Service Charge (15%)</strong> and <strong>Refundable Deposit (Rs. 15,000)</strong> are applied automatically</li>
        <li>After submission â€” click <strong>ğŸ“¥ Download Application Form</strong> for the official printable form</li>
      </ul>
    </div>
    <div class="instruction-box">
      <h3>âœ… Step 3 â€” Wait for Approval</h3>
      <ul>
        <li>Reviewed by the <strong>Assistant Superintendent (HQ)</strong></li>
        <li>Final approval by the <strong>Deputy Post Master (Operation)</strong></li>
        <li>E-mail notification on approval or rejection</li>
      </ul>
    </div>
    <div class="instruction-box auto-charges-box">
      <h3>ğŸ’° Mandatory Charges â€” Applied Automatically</h3>
      <div class="auto-charge-grid">
        <div class="auto-charge-card"><span class="aci">ğŸ“Š</span>
          <div><strong>Service Charge â€” 15% of optional facilities</strong>
          <p>Calculated automatically. Zero if no optional facilities selected.</p></div>
        </div>
        <div class="auto-charge-card"><span class="aci">ğŸ”’</span>
          <div><strong>Refundable Deposit â€” Rs. 15,000</strong>
          <p>Mandatory for all bookings. Returned after event with no damage.</p></div>
        </div>
      </div>
    </div>
    <div class="instruction-box pdf-box">
      <h3>ğŸ“¥ Full Guide â€” PDF</h3>
      <p>View or download the complete instructions as a formatted document.</p>
      <div class="pdf-btn-row">
        <button class="btn btn-pdf-view" onclick="openPdf()">ğŸ‘ï¸ View PDF</button>
        <button class="btn btn-pdf-dl"   onclick="downloadPdfGuide()">ğŸ“¥ Download PDF</button>
      </div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SECTION 2 â€” AVAILABLE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="available" class="content-section">
  <h1 class="section-title">âœ… Check Auditorium Availability</h1>
  <div class="section-content">
    <div class="container">
      <form id="dateTimeForm">
        <div class="date-time-container">
          <div class="input-row">
            <label for="selectDate">Select Date :</label>
            <input type="date" id="selectDate" name="date" required>
          </div>
          <div class="input-row">
            <label for="checkInTime">Check In Time :</label>
            <input type="time" id="checkInTime" name="checkIn" value="10:00" required>
          </div>
          <div class="input-row">
            <label for="checkOutTime">Check Out Time :</label>
            <input type="time" id="checkOutTime" name="checkOut" value="13:00" required>
          </div>
        </div>
        <div class="button-group">
          <button type="submit" class="btn btn-primary">Check Availability</button>
          <button type="button" class="btn btn-secondary" onclick="clearResults()">Reset</button>
        </div>
      </form>
      <div id="result" class="result" style="display:none;">
        <h3>âœ“ Your Requested Time Slot</h3>
        <p><strong>Date:</strong>              <span id="resultDate"></span></p>
        <p><strong>Check In:</strong>          <span id="resultCheckIn"></span></p>
        <p><strong>Check Out:</strong>         <span id="resultCheckOut"></span></p>
        <p><strong>Maintenance Until:</strong> <span id="resultMaintenance"></span></p>
      </div>
    </div>

    <div class="results-area" id="resultsSection" style="display:none;">
      <div class="results-content">
        <h2 class="results-title">Availability Results</h2>
        <p class="search-info" id="searchInfo"></p>
        <div class="avail-legend">
          <span><span class="avail-dot green-dot"></span> Your slot is free â€” no bookings conflict</span>
          <span><span class="avail-dot orange-dot"></span> Other hours booked â€” your slot is still available</span>
          <span><span class="avail-dot red-dot"></span> Your slot conflicts with an existing booking</span>
        </div>
        <div class="table-wrapper">
          <table class="auditorium-table">
            <thead>
              <tr>
                <th>Auditorium</th>
                <th>Capacity</th>
                <th>Your Slot Status</th>
                <th>All Booked Slots This Date</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
        <div class="back-button-wrapper">
          <button type="button" class="btn-back" onclick="backToSearch()">â† Back to Search</button>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SECTION 3 â€” BOOKING FORM
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="booking" class="content-section">
  <h1 class="section-title">ğŸ“ Auditorium Booking Application</h1>
  <div class="section-content">
    <form class="booking-form" id="bookingForm">
      <div class="form-official-header">
        <strong>Application for the reservation of the Auditorium of the Postal Headquarters</strong>
      </div>

      <!-- RESERVATION -->
      <div class="form-group">
        <label>1. Date of the Reservation *</label>
        <input type="date" name="reservation_date" id="bookingDate" required>
      </div>
      <div class="form-group form-row-2">
        <div>
          <label>2. Time Range â€” Check In *</label>
          <input type="time" name="check_in_time" id="bCheckIn" required>
        </div>
        <div>
          <label>2. Time Range â€” Check Out *</label>
          <input type="time" name="check_out_time" id="bCheckOut" required>
        </div>
      </div>
      <div class="form-group">
        <label>Select Auditorium *</label>
        <select name="auditorium_id" id="auditoriumSelect" required>
          <option value="">-- Select Auditorium --</option>
          <option value="1">Headquarters (Capacity: 500)</option>
          <option value="2">Kandy (Capacity: 300)</option>
          <option value="3">Jaffna (Capacity: 250)</option>
          <option value="4">Badulla (Capacity: 200)</option>
          <option value="5">Batticaloa (Capacity: 200)</option>
          <option value="6">Mathara (Capacity: 180)</option>
          <option value="7">Rathnapura (Capacity: 150)</option>
        </select>
      </div>

      <div class="form-group">
        <label>3. Name of the Institute *</label>
        <input type="text" name="institute_name" id="bInstitute" required placeholder="e.g. Ministry of Education">
      </div>
      <div class="form-group">
        <label>4. Address of the Institute *</label>
        <textarea name="institute_address" id="bAddress" rows="2" required placeholder="Full postal address"></textarea>
      </div>
      <div class="form-group">
        <label>5. Applicant's Name *</label>
        <input type="text" name="requested_by" id="bName" required>
      </div>
      <div class="form-group">
        <label>6. National Identity Card No. *</label>
        <input type="text" name="nic_no" id="bNic" required placeholder="e.g. 198512345678">
      </div>
      <div class="form-group">
        <label>7. Telephone No. *</label>
        <input type="tel" name="contact_phone" id="bPhone" required placeholder="+94 XX XXX XXXX">
      </div>
      <div class="form-group">
        <label>Email Address *</label>
        <input type="email" name="contact_email" id="bEmail" required>
      </div>
      <div class="form-group">
        <label>Designation *</label>
        <input type="text" name="designation" id="bDesig" required>
      </div>
      <div class="form-group">
        <label>8. Nature of the Programme *</label>
        <textarea name="nature_of_programme" id="bPurpose" rows="2" required></textarea>
      </div>
      <div class="form-group">
        <label>9. Participating Group *</label>
        <input type="text" name="participating_group" id="bGroup" required placeholder="e.g. All Teaching Staff â€” Western Province">
      </div>
      <div class="form-group">
        <label>10. Other Facilities Required</label>
        <div class="form-section">
          <div class="facilities-group">
            <div class="facility-item">
              <input type="checkbox" id="multimedia" name="facilities" value="9000" data-facility="Multimedia">
              <label for="multimedia">Multimedia â€” Rs. 9,000</label>
            </div>
            <div class="facility-item">
              <input type="checkbox" id="canteen" name="facilities" value="4000" data-facility="Canteen">
              <label for="canteen">Canteen â€” Rs. 4,000</label>
            </div>
          </div>
          <div class="auto-conditions">
            <h4>ğŸ“‹ Automatically Applied to Every Booking</h4>
            <div class="condition-row">
              <span>Service Charges (15% of selected facilities)</span>
              <span class="cond-badge">AUTO</span>
            </div>
            <div class="condition-row">
              <span>Refundable Deposit Amount</span>
              <span class="cond-badge">Rs. 15,000</span>
            </div>
            <p class="cond-note">These are mandatory conditions. Deposit is fully refundable after the event with no damage.</p>
          </div>
          <div class="fee-summary">
            <h3>ğŸ’° Fee Summary</h3>
            <div class="fee-row hidden" id="multimediaRow">
              <span>Multimedia Facility Fee</span><span><strong id="multimediaAmount"></strong></span>
            </div>
            <div class="fee-row hidden" id="canteenRow">
              <span>Canteen Facility Fee</span><span><strong id="canteenAmount"></strong></span>
            </div>
            <div class="fee-row fee-divider">
              <span>Facilities Subtotal</span><span><strong id="subtotalAmount">Rs. 0.00</strong></span>
            </div>
            <div class="fee-row fee-auto">
              <span>Service Charges (15%) <span class="auto-tag">AUTO</span></span>
              <span><strong id="serviceAmount">Rs. 0.00</strong></span>
            </div>
            <div class="fee-row fee-auto">
              <span>Refundable Deposit Amount <span class="auto-tag">AUTO</span></span>
              <span><strong id="depositAmount">Rs. 15,000.00</strong></span>
            </div>
            <div class="fee-row total">
              <span><strong>Total Fee</strong></span>
              <span class="amount" id="totalAmount">Rs. 15,000.00</span>
            </div>
          </div>
          <div class="note">
            <strong>Note:</strong> Cash Receipt Number will be issued at the time of payment. The Refundable Deposit is returned after the event subject to no facility damage.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>11. Chief Guest Name</label>
        <input type="text" name="chief_guest" id="bChiefGuest" placeholder="Optional">
      </div>
      <div class="form-group">
        <label>12. Other Special Guests Names</label>
        <input type="text" name="guest_1" id="bGuest1" placeholder="Special Guest 1" style="margin-bottom:8px;">
        <input type="text" name="guest_2" id="bGuest2" placeholder="Special Guest 2" style="margin-bottom:8px;">
        <input type="text" name="guest_3" id="bGuest3" placeholder="Special Guest 3">
      </div>
      <div class="form-group">
        <label>Expected Number of Participants *</label>
        <input type="number" name="expected_attendees" id="bAttendees" min="1" required>
      </div>

      <div class="declaration-box">
        <p>It is declared that I have agreed with all the conditions mentioned overleaf after reading them.</p>
      </div>
      <div class="facility-item terms-row">
        <input type="checkbox" id="termsCheckbox" required>
        <label for="termsCheckbox">I agree to the terms and conditions, including mandatory Service Charge and Refundable Deposit.</label>
      </div>

      <input type="hidden" name="total_fee" id="totalFeeInput" value="15000">
      <button type="submit" class="submit-btn">Submit Application</button>
    </form>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SECTION 4 â€” GALLERY
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="auditorium" class="content-section">
  <h1 class="section-title">ğŸ›ï¸ Photos at Your Post Office Auditorium</h1>
  <div class="section-content">
    <p style="text-align:center;color:#666;padding:40px;">Gallery coming soonâ€¦</p>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SECTION 5 â€” RULES
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="rules" class="content-section">
  <h1 class="section-title">ğŸ“œ Booking Rules &amp; Guidelines</h1>
  <div class="section-content">
    <div class="rules-container">
      <h2 style="color:#92400e;margin-bottom:15px;">Important Rules to Follow</h2>
      <div class="rule-item"><h4>1. Advance Booking</h4><p>All bookings must be made at least 3 days in advance.</p></div>
      <div class="rule-item"><h4>2. Maximum Duration</h4><p>Maximum booking duration is 8 hours per day per organisation.</p></div>
      <div class="rule-item"><h4>3. Shared Booking Policy</h4><p>Multiple organisations may book the same auditorium on the same day â€” provided their time slots do not overlap. Use the availability checker to find free slots.</p></div>
      <div class="rule-item"><h4>4. Cancellation Policy</h4><p>Cancellations must be submitted at least 48 hours before the booking date.</p></div>
      <div class="rule-item"><h4>5. Maintenance Buffer</h4><p>A 1-hour maintenance buffer is automatically applied after checkout time.</p></div>
      <div class="rule-item"><h4>6. Mandatory Charges</h4><p>Service Charge (15%) and Refundable Deposit (Rs. 15,000) are mandatory for every booking.</p></div>
      <div class="rule-item"><h4>7. Weekend Bookings</h4><p>Permitted subject to Deputy Post Master (Operation) approval.</p></div>
      <div class="rule-item"><h4>8. Damage Policy</h4><p>Any facility damage will be deducted from the deposit before return.</p></div>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SECTION 6 â€” BOOKED DATES
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="booked-date" class="content-section">
  <h1 class="section-title">ğŸ“‹ Auditorium Booked Dates</h1>

  <!-- GATE (not logged in) -->
  <div id="adminGate">
    <div class="gate-prompt">
      <div class="gate-icon">ğŸ”</div>
      <h2>Staff Login Required</h2>
      <p>
        <strong>Maintenance Staff</strong> â€” booked calendar view only<br>
        <strong>Admin</strong> â€” full CMS with all booking details
      </p>
      <button class="btn btn-primary btn-lg" onclick="openAdminLogin()">Login</button>
    </div>
  </div>

  <!-- MAINTENANCE VIEW -->
  <div id="maintView" style="display:none;">
    <div class="section-content">
      <div class="admin-topbar maint-topbar">
        <div class="admin-topbar-left">
          <span class="admin-shield maint-shield">ğŸ”§ Maintenance Staff</span>
          <span id="maintWelcome" class="admin-username"></span>
        </div>
        <button class="btn btn-ghost btn-sm" onclick="staffLogout()">ğŸšª Logout</button>
      </div>
      <div class="maint-info-banner">
        ğŸ“… You can see which dates and times are booked. Contact the admin for full booking details.
      </div>

      <div class="calendar-container">
        <div class="calendar-header">
          <div class="month-year" id="maintMonthYear"></div>
          <div class="nav-buttons">
            <button class="nav-btn" id="maintPrevBtn">â† Prev</button>
            <button class="nav-btn" id="maintTodayBtn">Today</button>
            <button class="nav-btn" id="maintNextBtn">Next â†’</button>
          </div>
        </div>
        <div class="calendar-body">
          <div class="cal-legend">
            <span><span class="ld booked-dot"></span> Booked</span>
            <span><span class="ld avail-dot"></span> Available</span>
            <span><span class="ld today-dot"></span> Today</span>
            <span><span class="ld wknd-dot"></span> Weekend</span>
          </div>
          <div class="weekdays">
            <div class="weekday">Sun</div><div class="weekday">Mon</div><div class="weekday">Tue</div>
            <div class="weekday">Wed</div><div class="weekday">Thu</div><div class="weekday">Fri</div><div class="weekday">Sat</div>
          </div>
          <div class="days" id="maintDaysContainer"></div>
        </div>
      </div>

      <!-- Maintenance day panel: time slots only, no personal info -->
      <div class="day-detail-panel" id="maintDayPanel" style="display:none;">
        <div class="day-panel-header">
          <h3 id="maintDayPanelTitle"></h3>
          <button class="close-panel" onclick="closeMaintDayPanel()">âœ• Close</button>
        </div>
        <div id="maintDayPanelContent"></div>
      </div>
    </div>
  </div>

  <!-- ADMIN VIEW (full CMS) -->
  <div id="adminCMS" style="display:none;">
    <div class="section-content">
      <div class="admin-topbar">
        <div class="admin-topbar-left">
          <span class="admin-shield">ğŸ›¡ï¸ Full Admin</span>
          <span id="adminWelcome" class="admin-username"></span>
        </div>
        <button class="btn btn-ghost btn-sm" onclick="staffLogout()">ğŸšª Logout</button>
      </div>

      <div class="cms-filter">
        <label><strong>Filter by Auditorium:</strong></label>
        <select id="cmsFilter" onchange="renderAdminCal(); renderBookingsTable()">
          <option value="all">All Auditoriums</option>
          <option value="Headquarters">Headquarters</option>
          <option value="Kandy">Kandy</option>
          <option value="Jaffna">Jaffna</option>
          <option value="Badulla">Badulla</option>
          <option value="Batticaloa">Batticaloa</option>
          <option value="Mathara">Mathara</option>
          <option value="Rathnapura">Rathnapura</option>
        </select>
      </div>

      <div class="calendar-container">
        <div class="calendar-header">
          <div class="month-year" id="adminMonthYear"></div>
          <div class="nav-buttons">
            <button class="nav-btn" id="adminPrevBtn">â† Prev</button>
            <button class="nav-btn" id="adminTodayBtn">Today</button>
            <button class="nav-btn" id="adminNextBtn">Next â†’</button>
          </div>
        </div>
        <div class="calendar-body">
          <div class="cal-legend">
            <span><span class="ld booked-dot"></span> Booked</span>
            <span><span class="ld avail-dot"></span> Available</span>
            <span><span class="ld today-dot"></span> Today</span>
            <span><span class="ld wknd-dot"></span> Weekend</span>
          </div>
          <div class="weekdays">
            <div class="weekday">Sun</div><div class="weekday">Mon</div><div class="weekday">Tue</div>
            <div class="weekday">Wed</div><div class="weekday">Thu</div><div class="weekday">Fri</div><div class="weekday">Sat</div>
          </div>
          <div class="days" id="adminDaysContainer"></div>
        </div>
      </div>

      <div class="day-detail-panel" id="adminDayPanel" style="display:none;">
        <div class="day-panel-header">
          <h3 id="adminDayPanelTitle"></h3>
          <button class="close-panel" onclick="closeAdminDayPanel()">âœ• Close</button>
        </div>
        <div id="adminDayPanelContent"></div>
      </div>

      <div class="cms-table-section">
        <h3>ğŸ“Š All Bookings â€” CMS Overview</h3>
        <div class="table-wrapper">
          <table class="auditorium-table">
            <thead>
              <tr>
                <th>Reference</th>
                <th>Auditorium</th>
                <th>Date</th>
                <th>Check In</th>
                <th>Check Out</th>
                <th>Applicant</th>
                <th>Institute</th>
                <th>Status</th>
                <th>View</th>
              </tr>
            </thead>
            <tbody id="bookingsTableBody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
